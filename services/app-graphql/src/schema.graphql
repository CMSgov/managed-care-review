schema {
    query: Query
    mutation: Mutation
}

type Query {
    getCurrentUser: User!
    showDraftSubmission(
        input: ShowDraftSubmissionInput!
    ): ShowDraftSubmissionPayload
}

type Mutation {
    createDraftSubmission(
        input: CreateDraftSubmissionInput!
    ): CreateDraftSubmissionPayload
    updateDraftSubmission(
        input: UpdateDraftSubmissionInput!
    ): UpdateDraftSubmissionPayload!
}

input CreateDraftSubmissionInput {
    programId: ID!
    submissionType: SubmissionType!
    submissionDescription: String!
}

type CreateDraftSubmissionPayload {
    draftSubmission: DraftSubmission!
}

input ShowDraftSubmissionInput {
    submissionID: ID!
}

type ShowDraftSubmissionPayload {
    draftSubmission: DraftSubmission
}

input UpdateDraftSubmissionInput {
    submissionID: ID!
    draftSubmission: DraftSubmissionInput!
}

type UpdateDraftSubmissionPayload {
    draftSubmission: DraftSubmission!
}

scalar Date
scalar DateTime

type User {
    role: String!
    email: String!
    state: State!
    name: String!
}

type State {
    code: String!
    name: String!
    programs: [Program!]!
}

type Program {
    id: ID!
    name: String!
}

enum SubmissionType {
    CONTRACT_ONLY
    CONTRACT_AND_RATES
}

type DraftSubmission {
    id: ID!
    programId: String!
    program: Program!
    submissionType: SubmissionType!
    submissionDescription: String!
    stateCode: String!
    name: String!
    createdAt: Date!
    updatedAt: DateTime!
}

input DraftSubmissionInput {
    programId: String!
    submissionType: SubmissionType!
    submissionDescription: String!
    # documents[] ...
}
